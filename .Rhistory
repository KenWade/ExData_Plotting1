#
# Setup Strava Information
#
#####
my_id <- '1294941'
app_name <- 'OldManRider'
app_client_id  <- '8991'
app_secret <- '58c37ac5ca754923d222da0d457947f878787828'
access_token <- 'f94e8c67b36f2ebc2e03daceecba3a6593cd55de'
#####
#
# Create the Authentication Token
#
#       Example Code...
#
#####
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
#####
#
# Gather Strava Data
#
#       Example Code...
#
#####
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, my_id)
activity_id          <- NULL
#activity_athlete     <- NULL
activity_name        <- NULL
activity_moving_time <- NULL
activity_start_date  <- NULL
activity_type        <- NULL
for (i in 1:length(my_activity_list_raw)) {
activity_id[i]          <- my_activity_list_raw[[i]]$id
#    activity_athlete[i]     <- my_activity_list_raw[[i]]$athlete
activity_name[i]        <- my_activity_list_raw[[i]]$name
activity_moving_time[i] <- my_activity_list_raw[[i]]$moving_time
activity_start_date[i]  <- my_activity_list_raw[[i]]$start_date
activity_type[i]        <- my_activity_list_raw[[i]]$type
}
#my_activity_list <- data.frame(activity_id, activity_athlete, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list <- data.frame(activity_id, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
#####
#
# Setup the R packages and libraries
#
# GitHub Info: https://github.com/fawda123/rStrava
#
#####
#install.packages("devtools")
#devtools::install_github('fawda123/rStrava')
library(httr)
library(rStrava)
#####
#
# Setup Strava Information
#
#####
my_id <- '1294941'
app_name <- 'OldManRider'
app_client_id  <- '8991'
app_secret <- '58c37ac5ca754923d222da0d457947f878787828'
access_token <- 'f94e8c67b36f2ebc2e03daceecba3a6593cd55de'
#####
#
# Create the Authentication Token
#
#       Example Code...
#
#####
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
#####
#
# Gather Strava Data
#
#       Example Code...
#
#####
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, my_id)
activity_id          <- NULL
#activity_athlete     <- NULL
activity_name        <- NULL
activity_moving_time <- NULL
activity_start_date  <- NULL
activity_type        <- NULL
for (i in 1:length(my_activity_list_raw)) {
activity_id[i]          <- my_activity_list_raw[[i]]$id
#    activity_athlete[i]     <- my_activity_list_raw[[i]]$athlete
activity_name[i]        <- my_activity_list_raw[[i]]$name
activity_moving_time[i] <- my_activity_list_raw[[i]]$moving_time
activity_start_date[i]  <- my_activity_list_raw[[i]]$start_date
activity_type[i]        <- my_activity_list_raw[[i]]$type
}
#my_activity_list <- data.frame(activity_id, activity_athlete, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list <- data.frame(activity_id, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
#####
#
# Setup the R packages and libraries
#
# GitHub Info: https://github.com/fawda123/rStrava
#
#####
#install.packages("devtools")
#devtools::install_github('fawda123/rStrava')
library(httr)
library(rStrava)
#####
#
# Setup Strava Information
#
#####
my_id <- '1294941'
app_name <- 'OldManRider'
app_client_id  <- '8991'
app_secret <- '58c37ac5ca754923d222da0d457947f878787828'
access_token <- 'f94e8c67b36f2ebc2e03daceecba3a6593cd55de'
#####
#
# Create the Authentication Token
#
#       Example Code...
#
#####
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
#####
#
# Gather Strava Data
#
#       Example Code...
#
#####
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, my_id)
activity_id          <- NULL
#activity_athlete     <- NULL
activity_name        <- NULL
activity_moving_time <- NULL
activity_start_date  <- NULL
activity_type        <- NULL
for (i in 1:length(my_activity_list_raw)) {
activity_id[i]          <- my_activity_list_raw[[i]]$id
#    activity_athlete[i]     <- my_activity_list_raw[[i]]$athlete
activity_name[i]        <- my_activity_list_raw[[i]]$name
activity_moving_time[i] <- my_activity_list_raw[[i]]$moving_time
activity_start_date[i]  <- my_activity_list_raw[[i]]$start_date
activity_type[i]        <- my_activity_list_raw[[i]]$type
}
#my_activity_list <- data.frame(activity_id, activity_athlete, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list <- data.frame(activity_id, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private", approval_prompt = "force"))
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, my_id)
#####
#
# Setup the R packages and libraries
#
# GitHub Info: https://github.com/fawda123/rStrava
#
#####
#install.packages("devtools")
#devtools::install_github('fawda123/rStrava')
library(httr)
library(rStrava)
#####
#
# Setup Strava Information
#
#####
my_id <- '1294941'
app_name <- 'OldManRider'
app_client_id  <- '8991'
app_secret <- '58c37ac5ca754923d222da0d457947f878787828'
access_token <- 'f94e8c67b36f2ebc2e03daceecba3a6593cd55de'
#####
#
# Create the Authentication Token
#
#       Example Code...
#
#####
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private"))
#####
#
# Gather Strava Data
#
#       Example Code...
#
#####
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, my_id)
activity_id          <- NULL
#activity_athlete     <- NULL
activity_name        <- NULL
activity_moving_time <- NULL
activity_start_date  <- NULL
activity_type        <- NULL
for (i in 1:length(my_activity_list_raw)) {
activity_id[i]          <- my_activity_list_raw[[i]]$id
#    activity_athlete[i]     <- my_activity_list_raw[[i]]$athlete
activity_name[i]        <- my_activity_list_raw[[i]]$name
activity_moving_time[i] <- my_activity_list_raw[[i]]$moving_time
activity_start_date[i]  <- my_activity_list_raw[[i]]$start_date
activity_type[i]        <- my_activity_list_raw[[i]]$type
}
#my_activity_list <- data.frame(activity_id, activity_athlete, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list <- data.frame(activity_id, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list_raw <- get_activity_list(stoken, id = my_id)
tmp <- get_activity_list(stoken)
my_activity_list_raw == tmp
source("extra.R")
my_id <- '1294941'
app_name <- 'OldManRider'
app_client_id  <- '8991'
app_secret <- '58c37ac5ca754923d222da0d457947f878787828'
access_token <- 'f94e8c67b36f2ebc2e03daceecba3a6593cd55de'
#####
#
# Create the Authentication Token
#
#       Example Code...
#
#####
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private", cache = TRUE))
#####
#
# Gather Strava Data
#
#       Example Code...
#
#####
my_info <- get_athlete(stoken, id = my_id)
my_activity_list_raw <- get_activity_list(stoken, id = my_id)
activity_id          <- NULL
#activity_athlete     <- NULL
activity_name        <- NULL
activity_moving_time <- NULL
activity_start_date  <- NULL
activity_type        <- NULL
for (i in 1:length(my_activity_list_raw)) {
activity_id[i]          <- my_activity_list_raw[[i]]$id
#    activity_athlete[i]     <- my_activity_list_raw[[i]]$athlete
activity_name[i]        <- my_activity_list_raw[[i]]$name
activity_moving_time[i] <- my_activity_list_raw[[i]]$moving_time
activity_start_date[i]  <- my_activity_list_raw[[i]]$start_date
activity_type[i]        <- my_activity_list_raw[[i]]$type
}
#my_activity_list <- data.frame(activity_id, activity_athlete, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
my_activity_list <- data.frame(activity_id, activity_type, activity_name, activity_moving_time, activity_start_date, stringsAsFactors = FALSE)
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private", cache = TRUE))
Wa
stoken <- httr::config(token = strava_oauth(app_name, app_client_id, app_secret, app_scope = "view_private", cache = TRUE))
my_activity_list_raw <- get_activity_list(stoken, id = my_id)
x <- athl_fun(my_id)
x
x <- athlind(my_id)
x <- athlind_fun(my_id)
x
get_KOMs(my_id, stoken)
get_basic('https://strava.com/api/v3/athlete', stoken)
get_efforts_list(stoken, id = my_id)
x <- get_efforts_list(stoken, id = my_id)
head(x)
x$athlete$id
x[[1]]$athlete$id
length(x)
for (i in 1:length(x)) {}
y = NULL
for (i in 1:length(x)) {
y[i] <- x[[i]]$athlete$id
}
y
my_id in y
y == my_id
sum(y)
sum(as.numeric(y))
my_id %in% y
x <- get_efforts_list(stoken, id = 1294941)
y = NULL
for (i in 1:length(x)) {
y[i] <- x[[i]]$athlete$id
}
my_id %in% y
z <-get_segment(stoken, id=my_id, request="all_efforts")
z <-get_segment(stoken, id=10550853396, request="all_efforts")
z <-get_segment(stoken, id=10550853396, request="all_efforts")
z <-get_segment(stoken, id=438918416, request="all_efforts")
plot?
?plot
colors()
x <- rnorm(100)
hist(x)
x <- rnorm(100000)
hist(x)
x <- rnorm(100)
y <- rnorm(100)
plot(x,y)
z <- rnorm(100)
plot(x,z)
plot(x,y)
par(mar = c(2,2,2,2))
plot(x,y)
par(mar = c(4,4,2,2))
plot(x,y)
plot(x,y, pch=20)
plot(x,y, pch=2)
plot(x,y, pch=3)
example(points())
example(points
)
x <- rnorm(100)
y <- rnorm(100)
plot(x,y, pch=3)
title("ScatterPlot")
text(-2.-2, "a;lsdkfj")
text(-2.-2, "alsdkfj")
text(-2.-2, "a")
plot(x,y, pch=3)
title("ScatterPlot")
text(-2,-2, "a")
legend("topleft", legend = "Data")
legend("topleft", legend = "Data", pch = 20)
fit <- lm(y~x)
abline(fit)
abline(fit, lwd=3)
abline(fit, lwd=3, col = "blue")
plot(x,y, pch=3, xlab = "Weight", ylab = "Height", main = "Scatter Plot")
legend("topright", legend = "Data", pch = 20)
abline(fit, lwd=3, col = "salmon")
z <-rpois(100,2)
par(mfrow=c(2,1))
plot(x,y)
plot(x,z)
par("mar")
par("mar"=c(2,2,1,1))
plot(x,y)
plot(x,z)
par(mfrow=c(2,1))
plot(x,y)
plot(x,z)
par(mfrow=c(1,2))
plot(x,y)
plot(x,z)
par(mfrow=c(2,2))
plot(x,y)
plot(x,z)
plot(y,z)
plot(z,x)
par(mfrow=c(1,1))
y = x+rnorm(100)
g = gl(2,50)
g = gl(2,50, lables = c("Male", "Female"00))
g = gl(2,50, lables = c("Male", "Female"))
g = gl(2,50, labels  = c("Male", "Female"))
plot(x,y)
par("mar" = c(4,4,2,2))
plot(x,y)
str(g)
plot(x,y, type="n")
points(x[g=="Male"])
points(x[g=="Male"], col="green")
x[g=="Female"]
x[g=="Male"]
points(x[g=="Male"], y[g=="Male", col="green")
points(x[g=="Male"], y[g=="Male"], col="green")
points(x[g=="Female"], y[g=="Female"], col="steel")
points(x[g=="Female"], y[g=="Female"], col="bluesteel")
colors()
points(x[g=="Female"], y[g=="Female"], col="steelblue")
points(x[g=="Female"], y[g=="Female"], col="steelblue", pch=19)
####
#
#   Exploratory Data Analysis (class.coursera.org/exdata-035)
#
#   Making Plots
#
#       Our overall goal here is simply to examine how household energy usage varies over a 2-day period in
#       February, 2007. Your task is to reconstruct the following plots below, all of which were constructed using
#       the base plotting system.
#
####
#
#   Setup Libraries
#
library(lubridate)
hpc_filename   <- "household_power_consumption.txt"
hpc_colClasses <- c("character",  "character", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric")
hpc_nastrings  <- "?"
minDate <- as.Date("2007-02-01", "%Y-%m-%d")
maxDate <- as.Date("2007-02-02", "%Y-%m-%d")
####
#
#    Read in the Electric power consumption data from the working directory
#
#        Find the size of the data frame object and consider the implecations...
#
#           Input file size:        129,845KB = 132961280 bytes ~ 130MB
#           Data Frame dimensions:  2075259 obs. of  9 variables
#           Data Frame object.size: 83644688 bytes ~ 80MB
#               7.118858684894539 bytes per variable per observation in the data file
#               4.478406898715882 bytes per variable per observation in the data frame
#
# Data daken from UCI Machine Learning Repository: https://archive.ics.uci.edu/ml/datasets/Individual+household+electric+power+consumption
#
# Downloaded from: https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip
epcFull <- read.table(hpc_filename, header=TRUE, sep=";", colClasses = hpc_colClasses, na.strings = hpc_nastrings)
objectsize = object.size(epcFull)
####
#
#   Convert date and time to R date and time classes and
#   Convert all other variables to numbers
#
epcFull$DateTime <- strptime(paste(epcFull$Date, epcFull$Time, sep = " "), "%d/%m/%Y %H:%M:%S")
####
#
#   Select only the dates of interest
#
epc <- epcFull[(as.Date(epcFull$DateTime) >= minDate) & (as.Date(epcFull$DateTime) <= maxDate), ]
setwd("~/Ken/Continuing Education/Johns Hopkins School of Public Health - Data Science 4 - Exploratory Data Analysis/ExData_Plotting1")
####
#
#   Exploratory Data Analysis (class.coursera.org/exdata-035)
#
#   Making Plots
#
#       Our overall goal here is simply to examine how household energy usage varies over a 2-day period in
#       February, 2007. Your task is to reconstruct the following plots below, all of which were constructed using
#       the base plotting system.
#
####
#
#   Setup Libraries
#
library(lubridate)
####
#
#    Read in the Electric power consumption data from the working directory
#
#       As an side detail suggusted in the project description...
#           Find the size of the data frame object and consider the implecations...
#
#           Input file size:        129,845KB = 132961280 bytes ~ 130MB
#           Data Frame dimensions:  2075259 obs. of  9 variables
#           Data Frame object.size: 83644688 bytes ~ 80MB
#               7.118858684894539 bytes per variable per observation in the data file
#               4.478406898715882 bytes per variable per observation in the data frame
#
# Data daken from UCI Machine Learning Repository: https://archive.ics.uci.edu/ml/datasets/Individual+household+electric+power+consumption
#
# Downloaded from: https://d396qusza40orc.cloudfront.net/exdata%2Fdata%2Fhousehold_power_consumption.zip
get_household_power_consumption_data <- function() {
hpc_filename   <- "household_power_consumption.txt"
hpc_colClasses <- c("character",  "character", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric")
hpc_nastrings  <- "?"
minDate <- as.Date("2007-02-01", "%Y-%m-%d")
maxDate <- as.Date("2007-02-02", "%Y-%m-%d")
epcFull <- read.table(hpc_filename, header=TRUE, sep=";", colClasses = hpc_colClasses, na.strings = hpc_nastrings)
hpc_filesize <- file.size(hpc_filename)
hpc_objectsize <- object.size(epcFull)
bytes_per_variable_per_observation_in_datafile <- hpc_filesize / ncol(epcFull) / nrow(epcFull)
bytes_per_variable_per_observation_in_object   <- hpc_objectsize / ncol(epcFull) / nrow(epcFull)
####
#
#   Convert date and time to R date and time classes and
#
epcFull$DateTime <- strptime(paste(epcFull$Date, epcFull$Time, sep = " "), "%d/%m/%Y %H:%M:%S")
####
#
#   Select only the dates of interest
#
epc <- subset(epcFull, (as.Date(epcFull$DateTime) >= minDate) & (as.Date(epcFull$DateTime) <= maxDate))
return(epc)
}
hpc_filename   <- "household_power_consumption.txt"
hpc_colClasses <- c("character",  "character", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric")
hpc_nastrings  <- "?"
minDate <- as.Date("2007-02-01", "%Y-%m-%d")
maxDate <- as.Date("2007-02-02", "%Y-%m-%d")
epcFull <- read.table(hpc_filename, header=TRUE, sep=";", colClasses = hpc_colClasses, na.strings = hpc_nastrings)
hpc_filesize <- file.size(hpc_filename)
hpc_objectsize <- object.size(epcFull)
bytes_per_variable_per_observation_in_datafile <- hpc_filesize / ncol(epcFull) / nrow(epcFull)
bytes_per_variable_per_observation_in_object   <- hpc_objectsize / ncol(epcFull) / nrow(epcFull)
####
#
#   Convert date and time to R date and time classes and
#
epcFull$DateTime <- strptime(paste(epcFull$Date, epcFull$Time, sep = " "), "%d/%m/%Y %H:%M:%S")
####
#
#   Select only the dates of interest
#
epc <- subset(epcFull, (as.Date(epcFull$DateTime) >= minDate) & (as.Date(epcFull$DateTime) <= maxDate))
hpc_objectsize
hpc_filesize
132960755/1024
hpc_objectsize/1024
hpc_objectsize/1024/1024
bytes_per_variable_per_observation_in_datafile
bytes_per_variable_per_observation_in_object
hist(epc, main = "Global Active Power", xlab = "Global Active Power (kilowatts)")
hist(epc, main = "Global Active Power")
hist(epc$Global_active_power, main = "Global Active Power", xlab = "Global Active Power (kilowatts)")
hist(epc$Global_active_power, main = "Global Active Power", xlab = "Global Active Power (kilowatts)", col = "red")
hist(epc$Global_active_power, main = "Global Active Power", xlab = "Global Active Power (kilowatts)", col = "red", breaks = 12)
hist(epc$Global_active_power, main = "Global Active Power", xlab = "Global Active Power (kilowatts)", col = "red", breaks = 12)
png(filename = "plot1.png", width = 480, height = 480, units = "px")
hist(epc$Global_active_power, main = "Global Active Power", xlab = "Global Active Power (kilowatts)", col = "red", breaks = 12)
dev.off()
